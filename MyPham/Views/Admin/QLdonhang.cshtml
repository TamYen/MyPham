@*@model IEnumerable<MyPham.Models.DonDatHang>*@
@using MyPham.Models
@using PagedList.Mvc;
@model PagedList.PagedList<MyPham.Models.DonDatHang>
@{
    ViewBag.Title = "QLdonhang";
    Layout = "~/Views/Shared/_LayoutPageAdmin.cshtml";
}
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<h2>QLdonhang</h2>

@*<p>
    @Html.ActionLink("Create New", "Create")
</p>*@
<table class="table">
    <tr>
        <th>TenKH</th>
        <th>DienThoaiKH </th>
        <th>DiaChiKH </th>
        <th>NgayDat</th>
        <th>NgayGiao </th>
        <th>Tongtien </th>
        <th>DaThanhToan</th>
        <th>TinhTrangGiaoHang</th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.KhachHang.TenKH)
        </td>
        <td>@Html.DisplayFor(modelItem => item.KhachHang.DienThoaiKH)</td>
        <td>@Html.DisplayFor(modelItem => item.KhachHang.DiaChiKH)</td>
        <td>
            @Html.DisplayFor(modelItem => item.NgayDat)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.NgayGiao)
        </td>
        <td>@String.Format("{0:0,0}", (item.Tongtien))</td>
        <td>
            @Html.DisplayFor(modelItem => item.DaThanhToan)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TinhTrangGiaoHang)
        </td>
        <td>
            @Html.ActionLink("Cập nhật", "TinhtrangDDH", new { id=item.MaDH }) |
            @Html.ActionLink("Chi tiêt đơn hàng", "CTDH", new { id=item.MaDH }) |
            @Html.ActionLink("Xóa", "XoaDDH", new { id=item.MaDH })
        </td>
    </tr>
}

</table>
<h4 style="text-align:center; color:blue">Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/@Model.PageCount;</h4>
<div class="MenuTrang"> @Html.PagedListPager(Model, page => Url.Action("Sanpham", new { page = page })) </div>
<style>
    .MenuTrang li {
        display: inline;
        font-style: normal;
        font-size: 20px;
        border: ridge;
    }
</style>
